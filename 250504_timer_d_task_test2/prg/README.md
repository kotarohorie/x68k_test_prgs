# 250504_timer_d_task_test2

## テストプログラムの概要

250425_timer_d_task_test の改良版

TIMERD スレッド処理がコールバック関数のような実装だと当初期待していた
実装ができないので wakeup で起床して実行したら sleep で次の起床まで待機する
ような処理になるように変更しました。

sleep 中はメインスレッドに処理が戻るということです。

RTCの秒が変化する間に TIMERD , MAIN スレッドが何回実行できたか、画面に表示してみました。概ねの計測です。あしからず。

`out/test.x` が実行ファイルです。

ソースファイルは xdev68k でビルドしています。

## 動作確認環境と結果

自分の環境で XEiJをクロックを33MHzに設定して動作させた時の結果です。

### XEiJ 0.25.05.03 TEST

`0.25.05.03 TEST` で「ホストのリフレッシュレートに合わせた動作」ができるように
なったので、この設定のON/OFF で RTC の秒が変化する間に TIMERD スレッドが実行される
回数が変わるはずです。

* ON(ホストのリフレッシュレートに合わせた動作≒60Hz)

TmD=59~61 / MAIN 24000回くらい

* OFF(≒55.46Hz)

TmD=55~57 / MAIN 24000回くらい
