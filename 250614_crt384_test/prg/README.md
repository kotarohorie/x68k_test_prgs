# 250614_crt384_test

## テストプログラムの概要

プログラムのベースは XSP のサンプルプログラムがベースになっています。

X68000Z でリフレッシュレート評価するテストプログラムです。

X68000Z の汎用エミュレータでは 384x256 モードで BG を表示 ON の時、
描画リフレッシュレートが30Hzになるので、水平表示幅とBG0,1の表示状態によって、描画リフレッシュレートが変化するのを確認できます。

out/test.x が実行ファイルです。

ソースファイルは xdev68k でビルドしています。

## キー操作

- [F10] ... プログラム終了
- [F9] ... BG0,1の表示状態切り替え
- [F7],[F8] ... 水平表示幅の増減
- カーソルキー ... スプライトの移動

## 結果

BG1枚(BG0もしくはBG1のいずれか)が ON の時は水平384pxでも30Hzにならない。

BG2枚(BG0、BG1の両方)が ON の時は水平312pxあたりからあやしい。

## その他

VSYNC を抜ける直前に起床させるためのコールバックを指定できるように XSP を改造しています。
